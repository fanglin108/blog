## 架构设计的目的 ##

周二，我们聊了架构出现的历史背景和推动因素。以史为鉴，对我们了解架构设计的目的很有帮助。谈到架构设计，相信每个技术人员都是耳熟能详，但如果深入探讨一下，“为何要做架构设计？”或者“架构设计的目的是什么？”类似的总是，大部分人可能从来没有思考过，或者即使有思考，也没有太明确可信的答案。

### 架构设计的误区 ###

关于架构设计的目的，常见的误区有：

- 因为架构很重要，所以要做架构设计

	这是一句正确的废话，架构是很重要，但架构为何重要呢？
	
	例如：不做架构设计系统就跑不起来？	
	
	其实不然，很多朋友尤其是经历了创业公司的朋友可能会发现，公司的初始产品可能没有架构设计，大伙撸起袖子简单讨论一下就开始编码了，根本没有正规的架构设计过程，而且产品开发速度还更快，上线后运行也还不错。
	
	例如：做了架构设计就能提升开发效率么？
	
	也不尽然，实际上有时候最简单的设计开发效率反而是最高的，架构设计必然需要投入时间和人力，这部分投入如果用来尽早编码，项目也许会更快。
	
	例如：设计良好的架构能促进业务发展么？
	
	好像有一定道理，例如设计高性能的架构能够让用户体验更好，但反过来想，我们照抄微信的架构，业务就能达到微信的级别么？肯定不可能。
	
- 不是每个系统都要做架构设计吗

	这其实也是知其然不知所以然，系统确实需要做架构设计，但还是不知道为何要做架构设计，反正大家都要做架构设计，所以做架构设计肯定没错。
	
	这样的架构师或者设计师很容易走入生搬硬套业界其他公司已有架构的歧路，美其名“参考微改进”。一旦强行引入其它公司的架构后，很可能会发现架构水土不服，或者运行起来很别扭等各种情况，最后往往不得不削足适履，或者不断重构，甚至无奈推倒重来。
	
- 公司流程要求系统开发过程中必须有架构设计 

- 为了高性能、高可用、可扩展，所以要做架构设计

	能够给我这个答案，说明已经有了一定的架构经历或者基础，毕竟确实很多架构设计都是冲着高性能、高可用....等目标去的。
	
	得往往持有这类观点的架构师和设计师会给项目带来巨大灾难，这绝不是危言耸听，而是很多实际发生的事情，为什么为这样呢？ 因为这类架构师或者设计师不管三七二十一，不管什么系统，也不管什么业务，上来就要求“高性能、高可用、高扩展”，结果就会出现架构设计复杂无比，项目落地遥遥无期，团队天天吵翻天...等各种让人抓狂的现象，费尽九牛二虎之力将系统整上线，即发现运行不够稳定，经常出问题，出了问题很难解决，加上功能要改1个月....等各种继续让人	抓狂的事件。
	

### 架构设计的真正目的

从周二与你分享的架构设计的历史背景，可以看到，整个软件发展的历史，其实就是一部与“复杂度”斗争的历史，架构的出现也不例外。简而言之，架构也是为了应对软件系统复杂度而提出的一个解决方案，通过回顾架构产生的历史背景和原因，我们可以基本推导出答案：** 架构设计的主要目的是为了解决软件系统复杂度带来的问题。**

这个结论虽然很简洁，但却是架构设计过程中需要时刻铭记的一条准则，为什么这样说呢?

首先，遵循这条准则能够让“新手”架构师** 心中有数，而不是一头雾水。** 

新手架构师开始做架构设计的时候，心情很激动，希望大显身手，甚至恨不得一出手就设计出世界上最牛的架构，从此走上人生巅峰，但真的面对具体的需求时，往往都会坠入一头雾水的状态。

- 这么多需求，从哪里开始进行架构设计呢?
	
	通过熟悉和理解需求，识别出系统复杂性所在的地方，然后针对这些复杂点进行架构设计。
	
- 架构设计要考虑高性能、高可用、高扩展....这么多高XX，全部设计完成要N久，咋办？

	架构设计并不是面面俱到，不需要每个架构都具备高性能、高可用、高扩展等特点，而是识别出复杂点然后有针对性地解决问题。
	
- 业界A公司架构是X，B公司是Y，差别较大，选择哪一个呢？

	理解每个架构方案背后所需要解决的复杂点，然后才能对比自己业务的复杂点，参考复杂点相似的方案。
	
其次，遵循这条准则能够让“老鸟”架构师** 有的放失，而不是贪大求全。**

技术人员往往都希望自己能够做出最牛的东西，架构师也不例外，尤其是一些老鸟架构师，为了证明自己很牛，可能会陷入大而全的焦油坑而无法自拨。例如：

"我们的系统一定要做到每秒TPS 10万"	。

“淘宝的架构就是这么做的，我们也要这么做”。

“Docker现在很流行，我们的架构应该将docker应用进来”。

以上这些想法，如果拿“架构设计是为了解决软件复杂度”这个原则来衡量，就很容易判断。


-  "我们的系统一定要做到每秒TPS 10万"	
	如果系统的复杂度不是在性能这部分，TPS做到10万并没什么用。
	
- "淘宝的架构就是这么做的，我们也要这么做"
	淘宝的架构是为了解决淘宝的业务复杂度而设计的，淘宝的业务复杂度并不是我们的业务复杂度，绝大多数业务的用户量都不可能有淘宝那么大。
	
- “Docker现在很流行，我们的架构应该将Docker应用进来”
	Docker不是万能的，只是为了解决资源重用和动态分配而设计的，如果我们的系统复杂度根本不是在这方面，引入Docker没有什么意义。
	

### 简单复杂度分析案例
		
	
	
	